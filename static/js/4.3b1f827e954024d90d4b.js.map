{"version":3,"sources":["webpack:///src/components/product/product_cate/list_cate.vue","webpack:///./src/components/product/product_cate/list_cate.vue?349c","webpack:///./src/components/product/product_cate/list_cate.vue"],"names":["defaultProductCate","name","categoryId","categoryStatus","defaultOperateProductCate","categoryName","parentId","list_cate","data","search","dialogTitle","flag3","flag4","dialogAddCateVisible","OperateProductCate","assign_default","productCate","selectProductCateList","productCateOptions","rules","required","message","trigger","min","max","list","offset","limit","count","currentPage","created","this","getProductCateList2","getList","methods","handleAddProductCate","handleOperateProductCateConfirm","_this","Object","then","response","$message","type","duration","console","log","$router","push","path","handleResetSearch","_this2","listLoading","_this3","i","length","label","value","unshift","getProductAttributeIdList","productAttributeIdList","filterProductAttrList","item","handleShowFrontLevel","handleShowNextLevel","index","row","_this4","handleSearchList","_this5","refreshList","handleUpdate","handleDelete","_this6","$confirm","confirmButtonText","cancelButtonText","deleteProductCate","handleSizeChange","val","handleCurrentChange","handleSelectionChange","filters","disableNextLevel","product_cate_list_cate","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","ref","inline","size","label-width","model","staticStyle","width","clearable","placeholder","callback","$$v","$set","expression","_v","on","click","$event","directives","rawName","highlight-current-row","header-cell-style","background","color","border-bottom","border","selection-change","align","scopedSlots","_u","key","fn","scope","_s","categoryLevel","active-value","inactive-value","change","handleNavStatusChange","$index","_e","text-align","margin-top","current-page","page-size","layout","total","size-change","current-change","title","center","visible","height","update:visible","expand-trigger","options","change-on-select","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.3b1f827e954024d90d4b.js","sourcesContent":["<template>\r\n    <div class=\"app-container\">\r\n<!--条件查询/添加、按钮 S--------------------------------------------------------------------------->\r\n        <el-card shadow=\"never\">\r\n            <el-form :inline=\"true\" size=\"small\" label-width=\"80px\" :model=\"productCate\" :rules=\"rules\" ref=\"productCateFrom\">\r\n                <el-form-item label=\"分类名称:\">\r\n                    <el-input style=\"width: 203px\" clearable v-model=\"productCate.name\" placeholder=\"请输入分类名称\"></el-input>\r\n                </el-form-item>  \r\n                <el-button @click=\"handleSearchList('productCateFrom')\" size=\"small\" type=\"primary\">Search</el-button>\r\n                <el-button @click=\"refreshList()\" size=\"small\" type=\"primary\">Refresh</el-button>  \r\n                <el-button @click=\"handleAddProductCate()\" size=\"small\" type=\"primary\" >添加分类</el-button>\r\n            </el-form> \r\n        </el-card>\r\n<!--添加、按钮 E--------------------------------------------------------------------------->\r\n<!--分类列表 S--------------------------------------------------------------------------->\r\n        <div class=\"table-container\">\r\n            <el-table ref=\"productTable\"\r\n                    highlight-current-row\r\n                    :header-cell-style=\"{background:'#f2f2f2',color:'#606266','border-bottom': '1px rgb(103, 194, 58) solid'}\"\r\n                    :data=\"list\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    v-loading=\"listLoading\"\r\n                    border>\r\n                <el-table-column type=\"selection\" width=\"60\" align=\"center\"></el-table-column>\r\n                <el-table-column label=\"编号\" width=\"80\" type=\"index\" align=\"center\">\r\n                    <!-- <template slot-scope=\"scope\">{{scope.row.categoryId}}</template> -->\r\n                </el-table-column>\r\n                <el-table-column label=\"分类名称\"  align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.categoryName}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"级别\" width=\"100\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.categoryLevel}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"导航栏\" width=\"100\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-switch\r\n                        @change=\"handleNavStatusChange(scope.$index, scope.row)\"\r\n                        :active-value=\"1\"\r\n                        :inactive-value=\"0\"\r\n                        v-model=\"scope.row.categoryStatus\">\r\n                        </el-switch>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"260\" align=\"center\">\r\n                    <!-- :disabled=\"scope.row.categoryLevel | disableNextLevel\" -->\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            v-if=\"flag3\"\r\n                            @click=\"handleShowNextLevel(scope.$index, scope.row)\">查看下级\r\n                        </el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n\r\n                            v-if=\"flag4\"\r\n                            @click=\"handleShowFrontLevel(scope.$index, scope.row)\">查看上级\r\n                        </el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            @click=\"handleUpdate(scope.$index, scope.row)\">编辑\r\n                        </el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            type=\"danger\"\r\n                            @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"Pagination\" style=\"text-align: left;margin-top: 10px;\">\r\n                <el-pagination\r\n                  @size-change=\"handleSizeChange\"\r\n                  @current-change=\"handleCurrentChange\"\r\n                  :current-page=\"currentPage\"\r\n                  :page-size=\"20\"\r\n                  layout=\"total, prev, pager, next\"\r\n                  :total=\"count\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n<!--分类列表 E--------------------------------------------------------------------------->\r\n<!--添加商品分类 S--------------------------------------------------------------------->\r\n        <el-dialog                    \r\n            :title=\"dialogTitle\"\r\n            :center=\"true\"\r\n            \r\n            :visible.sync=\"dialogAddCateVisible\"  width=\"35%\" height=\"100%\">\r\n            <el-form :model=\"OperateProductCate\" :inline=\"true\" size=\"small\"\r\n                ref=\"OperateProductCateForm\" label-width=\"140px\">\r\n                <!-- <el-form-item label=\"所属分类：\" \r\n                    placeholder=\"please selete\">\r\n                    <el-select  style=\"width:203px\">   \r\n                        <el-option\r\n                            v-model=\"productCate.parentId\"\r\n                            v-for=\"item in productCateOptions\"\r\n                            :key=\"item.categoryId\"\r\n                            :label=\"item.categoryName\"\r\n                            :value=\"item.categoryId\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item> -->\r\n                <el-form-item label=\"所属分类：\" >\r\n                    <el-cascader\r\n                        style=\"width:203px\"\r\n                        placeholder=\"please selete\"\r\n                        expand-trigger=\"click\"\r\n                        clearable\r\n                        v-model=\"OperateProductCate.parentId\"\r\n                        :options=\"productCateOptions\"\r\n                        change-on-select>\r\n                    </el-cascader>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类名称：\">\r\n                    <el-input v-model=\"OperateProductCate.categoryName\" style=\"width: 203px\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"导航栏处是否显示：\">\r\n                    <template>\r\n                        <el-switch\r\n                            @change=\"handleNavStatusChange(scope.$index, scope.row)\"\r\n                            :active-value=\"1\"\r\n                            :inactive-value=\"0\"\r\n                            v-model=\"OperateProductCate.categoryStatus\">\r\n                        </el-switch>\r\n                    </template>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogAddCateVisible = false\" size=\"mini\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"handleOperateProductCateConfirm\" size=\"mini\">保 存</el-button>\r\n            </span>\r\n        </el-dialog>\r\n<!--添加商品属性名称 E------------------------------------------------------------------>\r\n\r\n        <!-- :visible.sync=\"dialogAddCateVisible\"  :dialog-visible=\"dialogAddCateVisible\"-->\r\n        <!-- <add_cate :visible.sync=\"dialogAddCateVisible\" @closeDialog=\"CloseAddCateDialog\"></add_cate> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {fetchListLevel,fetchListChildrenLevel,getDetailByName,AddProductCate,getProductCate} from '@/api/productCate';\r\nimport { truncate, truncateSync, chown } from 'fs';\r\n// import add_cate from \"./add_cate.vue\";\r\nconst defaultProductCate = {\r\n    name:null,\r\n    // productAttributeIdList: [],\r\n    categoryId:null,\r\n    //parentId:null,\r\n    categoryStatus:1,\r\n  };\r\n\r\n//商品分类\r\nconst defaultOperateProductCate = {\r\n    //分类名称\r\n    categoryName:null,\r\n    //分类父分类id\r\n    parentId:null,\r\n    //分类级别\r\n    //categoryLevel:null,\r\n    //是否显示在导航栏\r\n    // categoryStatus:null,\r\n    categoryStatus:1,\r\n};\r\n\r\nexport default {\r\n    //components: {add_cate},\r\n    data(){\r\n        return{\r\n            search:null,\r\n            dialogTitle:'',\r\n            //上/下级别按钮\r\n            flag3:true,\r\n            flag4:false,\r\n            //添加的对话框\r\n            dialogAddCateVisible:false,\r\n            OperateProductCate: Object.assign({}, defaultOperateProductCate),\r\n            productCate: Object.assign({}, defaultProductCate),\r\n            selectProductCateList: [],\r\n            productCateOptions:[],\r\n            //productCateValue:null,\r\n            parentId:null,\r\n            rules: {\r\n            categoryName: [\r\n                {required: true, message: '请输入分类名称', trigger: 'blur'},\r\n                {min: 2, max: 14, message: '长度在 2 到 14 个字符', trigger: 'blur'}\r\n            ]\r\n            },\r\n            list:null,\r\n            \r\n            //listLoading: true,\r\n            offset: 0,\r\n            limit: 20,\r\n            count: 0,\r\n            currentPage: 1,\r\n        }\r\n    },\r\n\r\n    //监视\r\n    // productCateValue (newValue) {\r\n    //     if (newValue != null && newValue.length == 2) {\r\n    //         this.listQuery.productCategoryId = newValue[1];\r\n    //     } else {\r\n    //         this.listQuery.productCategoryId = 0;\r\n    //     }\r\n    // },\r\n\r\n    created() {\r\n        // if (this.isEdit) {\r\n        //     getProductCate(this.categoryId).then(response => {\r\n        //         this.productCate = response.data;\r\n        //     });\r\n        // } else {\r\n        //     this.productCate = Object.assign({}, defaultProductCate);\r\n        // }\r\n\r\n\r\n        //this.getSelectProductCateList();\r\n        // this.getProductAttrCateList();\r\n\r\n        //商品分类\r\n        //this.getProductCateList1();\r\n        //所属分类\r\n        this.getProductCateList2();\r\n\r\n\r\n        //this.resetcategoryId();\r\n        this.getList();\r\n    },\r\n    // watch: {\r\n    //   $route(route) {\r\n    //     this.resetcategoryId();\r\n    //     this.getList();\r\n    //   }\r\n    // },\r\n    methods:{\r\n\r\n        //添加分类\r\n        handleAddProductCate(){\r\n            this.OperateProductCate = Object.assign({}, defaultOperateProductCate);\r\n            this.dialogAddCateVisible=true;\r\n            this.dialogTitle = \"添加商品分类\";\r\n            //this.getProductCateList2();\r\n        },\r\n        //添加分类表单提交    需要验证！！！！！！！！！！！！！！！！\r\n        handleOperateProductCateConfirm(){\r\n            this.dialogAddCateVisible = false;\r\n            \r\n            AddProductCate(this.OperateProductCate).then(response =>{\r\n                this.$message({\r\n                  message: '添加成功！',\r\n                  type: 'success',\r\n                  duration:1000\r\n                  });\r\n            })\r\n            console.log(this.OperateProductCate.parentId);\r\n            this.$router.push({path: '/product/product_cate/list_cate'});  \r\n            this.getList();\r\n        },\r\n\r\n        //添加组件\r\n        // CloseAddCateDialog(msg){\r\n        //     if(msg==\"add\")\r\n        //     {\r\n        //         this.dialogAddCateVisible=false;\r\n        //         this.getList();\r\n        //     }\r\n        // },\r\n\r\n        //重置\r\n        handleResetSearch(){\r\n            this.productCate = Object.assign({}, defaultProductCate);\r\n        },\r\n\r\n        //初始化 显示列表内容\r\n        getList() {\r\n            this.listLoading = true;\r\n            fetchListLevel(0,20).then(response => {\r\n                this.listLoading = false;\r\n                this.list = response.data;\r\n                // this.total = response.data.total;\r\n            });\r\n        },\r\n\r\n        \r\n        //编辑里面的商品所属分类\r\n        getProductCateList2()\r\n        {\r\n            fetchListLevel().then(response => {                \r\n                let list = response.data;\r\n                for (let i = 0; i < list.length; i++) {\r\n                    this.productCateOptions.push({label: list[i].categoryName, value: list[i].categoryId});\r\n                }\r\n                this.productCateOptions.unshift({label:'无上级分类', value:0 });\r\n            });\r\n        },\r\n\r\n        getProductAttributeIdList() {\r\n            //获取选中的筛选商品属性\r\n            let productAttributeIdList = [];\r\n            for (let i = 0; i < this.filterProductAttrList.length; i++) {\r\n                let item = this.filterProductAttrList[i];\r\n                if (item.value !== null && item.value.length === 2) {\r\n                    productAttributeIdList.push(item.value[1]);\r\n                }\r\n            }\r\n            return productAttributeIdList;\r\n        },\r\n\r\n        //查看上级    有问题？？？？\r\n        handleShowFrontLevel(){\r\n            this.flag4=false;\r\n            this.flag3=true;\r\n            this.getList();\r\n        },\r\n        //查看下级\r\n        handleShowNextLevel(index, row) {\r\n            this.flag3=false;\r\n            this.flag4=true;\r\n            this.listLoading = true;\r\n            fetchListChildrenLevel(row.categoryId).then(response => {\r\n                this.listLoading = false;\r\n                this.list = response.data;\r\n                // this.total = response.data.total;\r\n            });\r\n        },\r\n        \r\n        //查询-----------------------------------------------------------------\r\n        handleSearchList(){\r\n            //这里需要判断是否为空!\r\n            if(this.productCate.name==null)\r\n            {\r\n                this.$message({\r\n                message: '请输入分类名称!',\r\n                type: 'warning',\r\n                duration: 1000\r\n                });\r\n                return;\r\n            }\r\n            //根据分类名称查询商品列分类表\r\n            this.listLoading = true;\r\n            getDetailByName(this.productCate).then(response =>{\r\n                this.listLoading = false;\r\n                this.list = response.data;\r\n                if(this.list==null)\r\n                {\r\n                    this.$message({\r\n                    message: '没有查到相关信息',\r\n                    type: 'warning',\r\n                    duration: 1000\r\n                    });\r\n                    return;\r\n                }\r\n            })\r\n        },\r\n\r\n        //刷新\r\n        refreshList(){\r\n            this.productCate = Object.assign({}, defaultProductCate);\r\n            this.getList();\r\n        },\r\n        \r\n        //编辑\r\n        handleUpdate(index, row){\r\n            this.dialogAddCateVisible=true;\r\n            this.dialogTitle = \"修改商品分类\";\r\n            //this.getProductCateList2();\r\n            //this.OperateProductCate = Object.assign({},row);\r\n            this.OperateProductCate.categoryName=row.categoryName;\r\n            this.OperateProductCate.productCateOptions=[\r\n                label=row.categoryName,\r\n                value=row.categoryId,\r\n            ]\r\n\r\n            // if(this.OperateProductCate.parentId==0)\r\n            // {\r\n            //     this.productCateOptions.label=\"无上级分类\";\r\n            // }\r\n            // getProductCate(row.categoryId).then(response => {\r\n            //     this.OperateProductCate = response.data;\r\n            //     this.OperateProductCate.productCateOptions = response.data.categoryName;\r\n            // });\r\n        },\r\n\r\n        //删除该分类\r\n        handleDelete(index, row) {\r\n            this.$confirm('是否要删除该分类', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n            }).then(() => {\r\n            deleteProductCate(row.categoryId).then(response => {\r\n                this.$message({\r\n                message: '删除成功',\r\n                type: 'success',\r\n                duration: 1000\r\n                });\r\n                this.getList();\r\n            });\r\n            });\r\n        },\r\n\r\n        //初始化商品分类\r\n        // getSelectProductCateList(){\r\n        //     fetchList(1, {pageSize: 100, pageNum: 1}).then(response => {\r\n        //     this.selectProductCateList = response.data.list;\r\n        //     this.selectProductCateList.unshift({id: 0, name: '无上级分类'});\r\n        //     });\r\n        // },\r\n        handleSizeChange(val){\r\n                console.log(`每页 ${val} 条`);\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.offset = (val - 1)*this.limit;\r\n            //this.getUsers()\r\n        },\r\n       \r\n    handleSelectionChange(){},\r\n    },\r\n    filters: {\r\n      disableNextLevel(value) {\r\n        if (value === 1) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/product/product_cate/list_cate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"productCateFrom\",attrs:{\"inline\":true,\"size\":\"small\",\"label-width\":\"80px\",\"model\":_vm.productCate,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"分类名称:\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入分类名称\"},model:{value:(_vm.productCate.name),callback:function ($$v) {_vm.$set(_vm.productCate, \"name\", $$v)},expression:\"productCate.name\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSearchList('productCateFrom')}}},[_vm._v(\"Search\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.refreshList()}}},[_vm._v(\"Refresh\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddProductCate()}}},[_vm._v(\"添加分类\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"productTable\",attrs:{\"highlight-current-row\":\"\",\"header-cell-style\":{background:'#f2f2f2',color:'#606266','border-bottom': '1px rgb(103, 194, 58) solid'},\"data\":_vm.list,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"80\",\"type\":\"index\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.categoryName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"级别\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.categoryLevel))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"导航栏\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleNavStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.categoryStatus),callback:function ($$v) {_vm.$set(scope.row, \"categoryStatus\", $$v)},expression:\"scope.row.categoryStatus\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"260\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.flag3)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleShowNextLevel(scope.$index, scope.row)}}},[_vm._v(\"查看下级\\n                        \")]):_vm._e(),_vm._v(\" \"),(_vm.flag4)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleShowFrontLevel(scope.$index, scope.row)}}},[_vm._v(\"查看上级\\n                        \")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\"编辑\\n                        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\\n                        \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"Pagination\",staticStyle:{\"text-align\":\"left\",\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":20,\"layout\":\"total, prev, pager, next\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"center\":true,\"visible\":_vm.dialogAddCateVisible,\"width\":\"35%\",\"height\":\"100%\"},on:{\"update:visible\":function($event){_vm.dialogAddCateVisible=$event}}},[_c('el-form',{ref:\"OperateProductCateForm\",attrs:{\"model\":_vm.OperateProductCate,\"inline\":true,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属分类：\"}},[_c('el-cascader',{staticStyle:{\"width\":\"203px\"},attrs:{\"placeholder\":\"please selete\",\"expand-trigger\":\"click\",\"clearable\":\"\",\"options\":_vm.productCateOptions,\"change-on-select\":\"\"},model:{value:(_vm.OperateProductCate.parentId),callback:function ($$v) {_vm.$set(_vm.OperateProductCate, \"parentId\", $$v)},expression:\"OperateProductCate.parentId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},model:{value:(_vm.OperateProductCate.categoryName),callback:function ($$v) {_vm.$set(_vm.OperateProductCate, \"categoryName\", $$v)},expression:\"OperateProductCate.categoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"导航栏处是否显示：\"}},[[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleNavStatusChange(_vm.scope.$index, _vm.scope.row)}},model:{value:(_vm.OperateProductCate.categoryStatus),callback:function ($$v) {_vm.$set(_vm.OperateProductCate, \"categoryStatus\", $$v)},expression:\"OperateProductCate.categoryStatus\"}})]],2)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.dialogAddCateVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleOperateProductCateConfirm}},[_vm._v(\"保 存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8c7cfc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/product/product_cate/list_cate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8c7cfc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list_cate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list_cate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list_cate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8c7cfc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list_cate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8c7cfc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product/product_cate/list_cate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}