webpackJsonp([20],{Ky2h:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),r=a("mRsl"),l=a("DQey"),o=a("PJh5"),s=a.n(o),c={pageindex:0,pagesize:20,id:null},u={mounted:function(){this.beginTime1=s()().subtract(1,"month").format("MM-DD-YYYY 00:00:00"),this.endTime1=s()().format("MM-DD-YYYY 00:00:00"),this.handleSearchList()},created:function(){this.getList(),this.getProductCateList()},data:function(){return{listQuery:i()({},c),productCateOptions:[],count:null,currentPage:null,pickerOptions1:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=s()().subtract(1,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}},{text:"7天前",onClick:function(t){var e=s()().subtract(7,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}},{text:"30天前",onClick:function(t){var e=s()().subtract(30,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}}]},beginTime1:"",endTime1:"",list:null,listLoading:!1}},methods:{getProductCateList:function(){var t=this;Object(r.d)().then(function(e){for(var a=e.data,n=function(e){Object(r.c)(a[e].categoryId).then(function(n){a[e].children=n.data;var i=[];if(null!=a[e].children&&a[e].children.length>0)for(var r=0;r<a[e].children.length;r++)i.push({label:a[e].children[r].categoryName,value:a[e].children[r].categoryId});t.productCateOptions.push({label:a[e].categoryName,value:a[e].categoryId,children:i})})},i=0;i<a.length;i++)n(i)})},getList:function(){var t=this;Object(l.b)(this.listQuery).then(function(e){t.listLoading=!1,t.list=e.data})},handleSearchList:function(){var t=this;Object(l.b)(this.listQuery.id).then(function(e){t.listLoading=!1,t.list=e.data})},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach(function(t,e){if(0!==e){var i=a.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?n[e]="":(n[e]=i.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),n[e]+=" 元")}else n[e]="合计"}),n},currentPage:function(){},handleSizeChange:function(){},handleCurrentChange:function(){}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{background:"#f2f2f2"},attrs:{shadow:"never"}},[a("svg-icon",{staticClass:"S-icon",attrs:{"icon-class":"Smoney"}}),t._v(" "),a("span",{staticClass:"title-font"},[t._v("商品统计")]),t._v(" "),a("div",{staticClass:"pro-form"},[a("el-form",{ref:"productCateFrom",staticStyle:{"margin-top":"10px","margin-bottom":"0px"},attrs:{inline:!0,model:t.listQuery,size:"small","label-width":"100px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"商品分类："}},[a("el-cascader",{staticStyle:{width:"203px"},attrs:{placeholder:"please selete","expand-trigger":"click",clearable:"",options:t.productCateOptions,"change-on-select":""},model:{value:t.listQuery.id,callback:function(e){t.$set(t.listQuery,"id",e)},expression:"listQuery.id"}})],1),t._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":t.pickerOptions1},model:{value:t.beginTime1,callback:function(e){t.beginTime1=e},expression:"beginTime1"}}),t._v("\n                        -\n                        "),a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":t.pickerOptions1},model:{value:t.endTime1,callback:function(e){t.endTime1=e},expression:"endTime1"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.handleSearchList}},[t._v("查询")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","header-cell-style":{background:"#f2f2f2",color:"#606266","border-bottom":"1px rgb(103, 194, 58) solid"},data:t.list,fixed:"","show-summary":"","summary-method":t.getSummaries,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"No.",width:"60",type:"index",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.userLogin.productName))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销量",sortable:"",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.userLogin.Quantity))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销售额",sortable:"",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.money))]}}])})],1),t._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":20,layout:" prev, pager, next",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(t){a("YpGs")},"data-v-4eb92442",null);e.default=p.exports},YpGs:function(t,e){}});
//# sourceMappingURL=20.eedd005c68a87740c60a.js.map