webpackJsonp([17],{I3El:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),r=a.n(i),s=a("woOf"),n=a.n(s),c=a("XLwt"),o=a.n(c),l={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$refs.myEchart),this.chart.setOption({color:["#13CE66","#20a0ff","#F7BA2A"],title:{text:"Users Statistics",x:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["用户注册量","seller注册量","网站访问量"]},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:2500,interval:500,axisLabel:{formatter:"{value} dollars"}}],series:[{name:"用户注册量",type:"bar",data:[200,490,700,232,256,345,344,767,326,1200,1356,1622]},{name:"seller注册量",type:"bar",data:[246,545,650,264,207,160,203,287,183,707,842,956]},{name:"网站访问量",type:"bar",data:[220,232,343,455,663,570,682,100,102,165,203,234]}]})}}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"myEchart",class:this.className,style:{height:this.height,width:this.width}})},staticRenderFns:[]},d=a("VU/8")(l,h,!1,null,null,null).exports,m=a("mRsl"),f=a("DQey"),u=a("PJh5"),y=a.n(u),p={mounted:function(){this.beginTime1=y()().subtract(1,"month").format("MM-DD-YYYY 00:00:00"),this.endTime1=y()().format("MM-DD-YYYY 00:00:00"),this.beginTime2=y()().subtract(1,"month").format("MM-DD-YYYY 00:00:00"),this.endTime2=y()().format("MM-DD-YYYY 00:00:00"),this.handleSearchList()},name:"income",components:{Userechart:d},created:function(){this.getProductCateList()},watch:{CateId:function(t){null!=t&&2==t.length?this.CateId=t[1]:this.CateId=0}},data:function(){return{productCateOptions:[],CateId:null,pickerOptions1:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=y()().subtract(1,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}},{text:"7天前",onClick:function(t){var e=y()().subtract(7,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}},{text:"30天前",onClick:function(t){var e=y()().subtract(30,"days").format("MM-DD-YYYY 00:00:00");t.$emit("pick",e)}}]},beginTime1:"",endTime1:"",beginTime2:"",endTime2:""}},methods:r()({getProductCateList:function(){var t=this;Object(m.d)().then(function(e){for(var a=e.data,i=function(e){Object(m.c)(a[e].categoryId).then(function(i){a[e].children=i.data;var r=[];if(null!=a[e].children&&a[e].children.length>0)for(var s=0;s<a[e].children.length;s++)r.push({label:a[e].children[s].categoryName,value:a[e].children[s].categoryId});t.productCateOptions.push({label:a[e].categoryName,value:a[e].categoryId,children:r})})},r=0;r<a.length;r++)i(r)})},initDate:function(){this.$refs.myEchart.xAxis.data=[],this.$refs.myEchart.yAxis.data=[],this.$refs.myEchart.series[0].data=[],this.$refs.myEchart.series[1].data=[],this.$refs.myEchart.series[2].data=[]},handleSearchList:function(){var t=this,e=monthUserNumsReq;if(null!=this.beginTime1&&null!=this.endTime1){var a=y()(this.beginTime).format("MM-DD-YYYY 00:00:00"),i=y()(this.endTime).format("MM-DD-YYYY 00:00:00");e=n()({starttime:a,endtime:i},e)}this.initDate(),Object(f.c)(e).then(function(e){t.$refs.myEchart.legend.data=["总销售额","seller销售额","成本"],t.$refs.myEchart.series[0].name="总销售额",t.$refs.myEchart.series[1].name="seller销售额",t.$refs.myEchart.series[2].name="成本";for(var a=y()(t.endTime).diff(y()(t.beginTime),"days");a>0;a--){var i=y()(t.endTime).subtract(a,"days").format("MM-DD-YYYY");t.$refs.myEchart.xAxis.data.push(i);for(var r=0,s=0,n=0,c=e.length-1;c>=0;c--){var o=e[c]._id.day,l=e[c]._id.deviceType,h=e[c].num;o==i&&(1==l?r=h:2==l?s=h:3==l&&(n=h))}t.$refs.myEchart.series[0].data.push(r),t.$refs.myEchart.series[1].data.push(s),t.$refs.myEchart.series[2].data.push(n)}})}},"handleSearchList",function(){Object(f.a)(this.CateId).then(function(t){t.data})})},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-container"},[a("div",[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":t.pickerOptions1},model:{value:t.beginTime1,callback:function(e){t.beginTime1=e},expression:"beginTime1"}}),t._v("\n                -\n                "),a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":t.pickerOptions1},model:{value:t.endTime1,callback:function(e){t.endTime1=e},expression:"endTime1"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.handleSearchList}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("Userechart")],1)],1)},staticRenderFns:[]};var g=a("VU/8")(p,b,!1,function(t){a("bkBh")},"data-v-5cae3b76",null);e.default=g.exports},bkBh:function(t,e){}});
//# sourceMappingURL=17.a2bd8dd84cccdf317763.js.map