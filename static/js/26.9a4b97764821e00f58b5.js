webpackJsonp([26],{Mxxi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),r=a.n(i),s=a("woOf"),n=a.n(s),c=a("XLwt"),l=a.n(c),o={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$refs.myEchart),this.chart.setOption({color:["#13CE66","#20a0ff","#F7BA2A"],title:{text:"Sales Statistics",x:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["总销售额","seller销售额","成本"]},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:2500,interval:500,axisLabel:{formatter:"{value} dollars"}}],series:[{name:"总销售额",type:"bar",data:[200,490,700,232,256,345,344,767,326,1200,1356,1622]},{name:"seller销售额",type:"bar",data:[246,545,650,264,207,160,203,287,183,707,842,956]},{name:"成本",type:"bar",data:[220,232,343,455,663,570,682,100,102,165,203,234]}]})}}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"myEchart",class:this.className,style:{height:this.height,width:this.width}})},staticRenderFns:[]},h=a("VU/8")(o,d,!1,null,null,null).exports,m=a("mRsl"),p=a("DQey"),f=a("PJh5"),u=a.n(f),y={mounted:function(){this.beginTime1=u()().subtract(1,"month").format("MM-DD-YYYY 00:00:00"),this.endTime1=u()().format("MM-DD-YYYY 00:00:00"),this.beginTime2=u()().subtract(1,"month").format("MM-DD-YYYY 00:00:00"),this.endTime2=u()().format("MM-DD-YYYY 00:00:00"),this.handleSearchList()},name:"income",components:{Mechart:h},created:function(){this.getProductCateList()},watch:{CateId:function(e){null!=e&&2==e.length?this.CateId=e[1]:this.CateId=0}},data:function(){return{productCateOptions:[],CateId:null,pickerOptions1:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=u()().subtract(1,"days").format("MM-DD-YYYY 00:00:00");e.$emit("pick",t)}},{text:"7天前",onClick:function(e){var t=u()().subtract(7,"days").format("MM-DD-YYYY 00:00:00");e.$emit("pick",t)}},{text:"30天前",onClick:function(e){var t=u()().subtract(30,"days").format("MM-DD-YYYY 00:00:00");e.$emit("pick",t)}}]},beginTime1:"",endTime1:"",beginTime2:"",endTime2:""}},methods:r()({getProductCateList:function(){var e=this;Object(m.e)().then(function(t){for(var a=t.data,i=function(t){Object(m.d)(a[t].categoryId).then(function(i){a[t].children=i.data;var r=[];if(null!=a[t].children&&a[t].children.length>0)for(var s=0;s<a[t].children.length;s++)r.push({label:a[t].children[s].categoryName,value:a[t].children[s].categoryId});e.productCateOptions.push({label:a[t].categoryName,value:a[t].categoryId,children:r})})},r=0;r<a.length;r++)i(r)})},initDate:function(){this.$refs.myEchart.xAxis.data=[],this.$refs.myEchart.yAxis.data=[],this.$refs.myEchart.series[0].data=[],this.$refs.myEchart.series[1].data=[],this.$refs.myEchart.series[2].data=[]},handleSearchList:function(){var e=this,t=monthUserNumsReq;if(null!=this.beginTime1&&null!=this.endTime1){var a=u()(this.beginTime).format("MM-DD-YYYY 00:00:00"),i=u()(this.endTime).format("MM-DD-YYYY 00:00:00");t=n()({starttime:a,endtime:i},t)}this.initDate(),Object(p.c)(t).then(function(t){e.$refs.myEchart.legend.data=["总销售额","seller销售额","成本"],e.$refs.myEchart.series[0].name="总销售额",e.$refs.myEchart.series[1].name="seller销售额",e.$refs.myEchart.series[2].name="成本";for(var a=u()(e.endTime).diff(u()(e.beginTime),"days");a>0;a--){var i=u()(e.endTime).subtract(a,"days").format("MM-DD-YYYY");e.$refs.myEchart.xAxis.data.push(i);for(var r=0,s=0,n=0,c=t.length-1;c>=0;c--){var l=t[c]._id.day,o=t[c]._id.deviceType,d=t[c].num;l==i&&(1==o?r=d:2==o?s=d:3==o&&(n=d))}e.$refs.myEchart.series[0].data.push(r),e.$refs.myEchart.series[1].data.push(s),e.$refs.myEchart.series[2].data.push(n)}})}},"handleSearchList",function(){Object(p.a)(this.CateId).then(function(e){e.data})})},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-container"},[a("div",[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":e.pickerOptions1},model:{value:e.beginTime1,callback:function(t){e.beginTime1=t},expression:"beginTime1"}}),e._v("\n                -\n                "),a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":e.pickerOptions1},model:{value:e.endTime1,callback:function(t){e.endTime1=t},expression:"endTime1"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleSearchList}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("Mechart")],1),e._v(" "),a("div",[a("div",{staticClass:"pro-form"},[a("el-form",{ref:"productCateFrom",attrs:{inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:"商品分类："}},[a("el-cascader",{attrs:{placeholder:"please selete","expand-trigger":"click",clearable:"",options:e.productCateOptions,"change-on-select":""},model:{value:e.CateId,callback:function(t){e.CateId=t},expression:"CateId"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":e.pickerOptions1},model:{value:e.beginTime2,callback:function(t){e.beginTime2=t},expression:"beginTime2"}}),e._v("\n                    -\n                    "),a("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"yyyy-MM-dd 0:0:0","picker-options":e.pickerOptions1},model:{value:e.endTime2,callback:function(t){e.endTime2=t},expression:"endTime2"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleSearchList}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("Mechart")],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(y,g,!1,function(e){a("R9d9")},"data-v-258d9094",null);t.default=b.exports},R9d9:function(e,t){}});
//# sourceMappingURL=26.9a4b97764821e00f58b5.js.map