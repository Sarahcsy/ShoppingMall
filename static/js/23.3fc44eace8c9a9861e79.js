webpackJsonp([23],{"p/le":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("woOf"),a=l.n(i),n=l("5eyz"),r=l("xT6B"),o={pageindex:0,pagesize:20,status:1,level:null,name:null,username:null,phoneNumber:null,identityCardNo:null,email:null},s={managerInfoId:null,name:"",username:"",gender:0,phoneNumber:"",identityCardNo:"",identityCardType:null,email:"",birthday:"",level:[]},d={created:function(){this.getList()},filters:{date1Formatter:function(e){var t=new Date(e);return Object(r.a)(t,"MM.dd.yyyy hh:mm:ss")},date2Formatter:function(e){var t=new Date(e);return Object(r.a)(t,"MM.dd.yyyy")},genderFormatter:function(e){return"0"===e?"Male":"Female"},idFormatter:function(e){return 0===e?"IDP":1===e?"SSN":"Not Clear"},levelFormatter:function(e){return 11===e?"General Admin":20===e?"Super Admin":"Not Clear"}},data:function(){return{listQuery:a()({},o),AdminDetail:a()({},s),list:null,total:null,offset:0,limit:20,count:0,currentPage:1,listLoading:!1,IDCardType:[{label:"IDP",value:0},{label:"SSN",value:1}],selectlevel:[{value:11,label:"General Admin"},{value:20,label:"Super Admin"}],dialogVisible:!1}},methods:{getList:function(){var e=this;this.listLoading=!0,Object(n.d)(this.listQuery).then(function(t){e.listLoading=!1,e.list=t.data,e.total=t.data.total})},handleSearchList:function(){this.listQuery.pageindex=0,this.listQuery.pagesize=20,this.getList()},handleResetSearch:function(){this.listQuery=a()({},o)},handleAddAdmin:function(){this.$router.push({path:"/admin/add_admin"})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.offset=(e-1)*this.limit,this.getList()},handleSelectionChange:function(){},handleUpdateAdmin:function(e,t){this.dialogVisible=!0,this.AdminDetail=a()({},t),this.AdminDetail.username=t.userLogin.username,this.AdminDetail.level=t.userLogin.level,11===this.AdminDetail.level?this.AdminDetail.level="General Admin":20===this.AdminDetail.level?this.AdminDetail.level="Super Admin":this.AdminDetail.level="Not Clear"},handleConfirm:function(){var e=this;Object(n.f)(this.AdminDetail).then(function(t){e.dialogVisible=!1,e.$message({message:"修改成功！",type:"success",duration:1e3}),e.getList()})},handleDelete:function(e,t){var l=[];l.push(t.managerInfoId),this.deleteManager(l)},deleteManager:function(e){var t=this;this.$confirm("是否要进行该删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.c)(t.managerInfoId).then(function(e){t.$message({message:"删除成功！",type:"success",duration:1e3}),t.listQuery.pageindex=0,t.getList()})})}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-card",{attrs:{shadow:"never"}},[l("i",{staticClass:"el-icon-tickets"}),e._v(" "),l("span",[e._v("Administrator List")]),e._v(" "),l("el-button",{staticClass:"btn-add1",attrs:{size:"mini"},on:{click:function(t){return e.handleAddAdmin()}}},[e._v("\n                Add\n            ")])],1),e._v(" "),l("div",{staticClass:"table-container"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"productTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","header-cell-style":{background:"#f2f2f2",color:"#606266","border-bottom":"1px rgb(103, 194, 58) solid"},data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{label:"No.",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.managerInfoId))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Login Name",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.userLogin.username))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Permission",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("levelFormatter")(t.row.userLogin.level)))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Real Name",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Gender",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("genderFormatter")(t.row.gender)))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Registration Time",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("date1Formatter")(t.row.registerTime)))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Phone Number",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.phoneNumber))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"ID Card",width:"230",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.identityCardNo))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Type of ID Card",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("idFormatter")(t.row.identityCardType)))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Email",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.email))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Date of Birth",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("date2Formatter")(t.row.birthday)))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Operate",width:"160",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini"},on:{click:function(l){return e.handleUpdateAdmin(t.$index,t.row)}}},[e._v("Edit\n                        ")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){return e.handleDelete(t.$index,t.row)}}},[e._v("Delete\n                        ")])]}}])})],1),e._v(" "),l("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":20,layout:" prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"Administrator Information",visible:e.dialogVisible,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{ref:"DetailForm",attrs:{model:e.AdminDetail,inline:!0,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"Number:"}},[l("el-input",{staticStyle:{width:"203px"},attrs:{readonly:""},model:{value:e.AdminDetail.managerInfoId,callback:function(t){e.$set(e.AdminDetail,"managerInfoId",t)},expression:"AdminDetail.managerInfoId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Permission:"}},[l("el-input",{staticStyle:{width:"203px"},attrs:{readonly:""},model:{value:e.AdminDetail.level,callback:function(t){e.$set(e.AdminDetail,"level",t)},expression:"AdminDetail.level"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Login Name:"}},[l("el-input",{staticStyle:{width:"203px"},attrs:{readonly:""},model:{value:e.AdminDetail.username,callback:function(t){e.$set(e.AdminDetail,"username",t)},expression:"AdminDetail.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Real Name:"}},[l("el-input",{staticStyle:{width:"203px"},model:{value:e.AdminDetail.name,callback:function(t){e.$set(e.AdminDetail,"name",t)},expression:"AdminDetail.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Phone Number:"}},[l("el-input",{staticStyle:{width:"203px"},model:{value:e.AdminDetail.phoneNumber,callback:function(t){e.$set(e.AdminDetail,"phoneNumber",t)},expression:"AdminDetail.phoneNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Email:"}},[l("el-input",{staticStyle:{width:"203px"},model:{value:e.AdminDetail.email,callback:function(t){e.$set(e.AdminDetail,"email",t)},expression:"AdminDetail.email"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Type of ID Card:"}},[l("el-select",{staticStyle:{width:"203px"},attrs:{placeholder:"全部",clearable:""},model:{value:e.AdminDetail.identityCardType,callback:function(t){e.$set(e.AdminDetail,"identityCardType",t)},expression:"AdminDetail.identityCardType"}},e._l(e.IDCardType,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"ID Card:"}},[l("el-input",{staticStyle:{width:"203px"},model:{value:e.AdminDetail.identityCardNo,callback:function(t){e.$set(e.AdminDetail,"identityCardNo",t)},expression:"AdminDetail.identityCardNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Registration Time:"}},[l("el-date-picker",{staticStyle:{width:"203px"},attrs:{readonly:"",type:"date",placeholder:"Please Select Time"},model:{value:e.AdminDetail.registerTime,callback:function(t){e.$set(e.AdminDetail,"registerTime",t)},expression:"AdminDetail.registerTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"Gender:"}},[l("el-radio-group",{staticStyle:{width:"203px"},model:{value:e.AdminDetail.gender,callback:function(t){e.$set(e.AdminDetail,"gender",t)},expression:"AdminDetail.gender"}},[l("el-radio",{attrs:{label:0}},[e._v("Male")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("Female")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"Date of Birth:"}},[l("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please Select Time"},model:{value:e.AdminDetail.birthday,callback:function(t){e.$set(e.AdminDetail,"birthday",t)},expression:"AdminDetail.birthday"}})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("Confirm")])],1)],1)],1)},staticRenderFns:[]};var c=l("VU/8")(d,u,!1,function(e){l("w7pK")},"data-v-09a2db7a",null);t.default=c.exports},w7pK:function(e,t){}});
//# sourceMappingURL=23.3fc44eace8c9a9861e79.js.map