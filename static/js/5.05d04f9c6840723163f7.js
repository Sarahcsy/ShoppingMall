webpackJsonp([5],{"4m5M":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("woOf"),r=l.n(a),n=l("mRsl"),i={name:null,productSn:null,minPrice:null,maxPrice:null,originalPrice:null,stock:null,discountRate:0,productionDate:null,pic:null,html:null},c={created:function(){this.getProductCateList()},data:function(){return{value:r()({},i),productCateOptions:[],time:"",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},rules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入商品描述",trigger:"blur"}],brandId:[{required:!0,message:"请选择商品品牌",trigger:"blur"}],productSn:[{required:!0,message:"请输入商品编号",trigger:"blur"}],requiredProp:[{required:!0,message:"该项为必填项",trigger:"blur"}]}}},methods:{getProductCateList:function(){var e=this;Object(n.c)().then(function(t){for(var l=t.data,a=function(t){Object(n.b)(l[t].categoryId).then(function(a){l[t].children=a.data;for(var r=[],n=0;n<l[t].children.length;n++)r.push({label:l[t].children[n].categoryName,value:l[t].children[n].categoryId});e.productCateOptions.push({label:l[t].categoryName,value:l[t].categoryId,children:r})}).catch(function(e){this.$message({message:"406",type:"warning",duration:1e3})})},r=0;r<l.length;r++)a(r)})}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[l("div",{staticStyle:{width:"900px"}},[l("el-form",{ref:"productInfoForm",staticStyle:{width:"700px"},attrs:{model:e.value,"inline-message":"",rules:e.rules,"label-width":"120px",size:"small"}},[l("el-form-item",{attrs:{label:"商品分类：",prop:"productCategoryId"}},[l("el-cascader",{attrs:{"expand-trigger":"click",clearable:"",options:e.productCateOptions,"change-on-select":""},model:{value:e.selectProductCateValue,callback:function(t){e.selectProductCateValue=t},expression:"selectProductCateValue"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品名称：",prop:"name"}},[l("el-input",{staticClass:"input-width",model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品编号：",prop:"productSn"}},[l("el-input",{staticClass:"input-width",model:{value:e.value.productSn,callback:function(t){e.$set(e.value,"productSn",t)},expression:"value.productSn"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"价格区间："}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"只能为正数"},model:{value:e.value.minPrice,callback:function(t){e.$set(e.value,"minPrice",t)},expression:"value.minPrice"}}),e._v(" -\n                "),l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"只能为正数"},model:{value:e.value.maxPrice,callback:function(t){e.$set(e.value,"maxPrice",t)},expression:"value.maxPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品原价："}},[l("el-input",{staticClass:"input-width",model:{value:e.value.originalPrice,callback:function(t){e.$set(e.value,"originalPrice",t)},expression:"value.originalPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品数量："}},[l("el-input",{staticClass:"input-width",model:{value:e.value.stock,callback:function(t){e.$set(e.value,"stock",t)},expression:"value.stock"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品折扣："}},[l("el-input",{staticClass:"input-width",model:{value:e.value.discountRate,callback:function(t){e.$set(e.value,"discountRate",t)},expression:"value.discountRate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"生产日期："}},[l("el-date-picker",{staticStyle:{width:"203px"},attrs:{type:"date",placeholder:"Please select time",align:"right",format:"MM - dd - yyyy","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商品图片："}},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?l("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),l("el-form-item",{attrs:{label:"商品规格："}},[l("el-card",{staticClass:"cardBg",attrs:{shadow:"never"}},e._l(e.selectProductAttr,function(t,a){return l("div",{key:a},[e._v("\n                    "+e._s(t.name)+"：\n                    "),0===t.handAddStatus?l("el-checkbox-group",{model:{value:e.selectProductAttr[a].values,callback:function(t){e.$set(e.selectProductAttr[a],"values",t)},expression:"selectProductAttr[idx].values"}},e._l(e.getInputListArr(t.inputList),function(e){return l("el-checkbox",{key:e,staticClass:"littleMarginLeft",attrs:{label:e}})}),1):l("div",[l("el-checkbox-group",{model:{value:e.selectProductAttr[a].values,callback:function(t){e.$set(e.selectProductAttr[a],"values",t)},expression:"selectProductAttr[idx].values"}},e._l(e.selectProductAttr[a].options,function(t,r){return l("div",{key:r,staticClass:"littleMarginLeft",staticStyle:{display:"inline-block"}},[l("el-checkbox",{key:t,attrs:{label:t}}),e._v(" "),l("el-button",{staticClass:"littleMarginLeft",attrs:{type:"text"},on:{click:function(t){return e.handleRemoveProductAttrValue(a,r)}}},[e._v("删除\n                        ")])],1)}),0),e._v(" "),l("el-input",{staticStyle:{width:"160px","margin-left":"10px"},attrs:{clearable:""},model:{value:e.addProductAttrValue,callback:function(t){e.addProductAttrValue=t},expression:"addProductAttrValue"}}),e._v(" "),l("el-button",{staticClass:"littleMarginLeft",on:{click:function(t){return e.handleAddProductAttrValue(a)}}},[e._v("增加")])],1)],1)}),0),e._v(" "),l("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.value.skuStockList,border:""}},[e._l(e.selectProductAttr,function(t,a){return l("el-table-column",{key:t.id,attrs:{label:t.name,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.getProductSkuSp(t.row,a))+"\n                    ")]}}])})}),e._v(" "),l("el-table-column",{attrs:{label:"商品价格",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.price,callback:function(l){e.$set(t.row,"price",l)},expression:"scope.row.price"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"商品数量",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.stock,callback:function(l){e.$set(t.row,"stock",l)},expression:"scope.row.stock"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"预警值",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.lowStock,callback:function(l){e.$set(t.row,"lowStock",l)},expression:"scope.row.lowStock"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"SKU编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.skuCode,callback:function(l){e.$set(t.row,"skuCode",l)},expression:"scope.row.skuCode"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleRemoveProductSku(t.$index,t.row)}}},[e._v("删除\n                    ")])]}}])})],2),e._v(" "),l("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.handleRefreshProductSkuList}},[e._v("刷新列表\n                ")]),e._v(" "),l("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.handleSyncProductSkuPrice}},[e._v("同步价格\n                ")])],1),e._v(" "),l("el-form-item",{attrs:{label:"商品描述："}},[l("el-input",{attrs:{type:"textarea",autoSize:!0},model:{value:e.value.html,callback:function(t){e.$set(e.value,"html",t)},expression:"value.html"}})],1),e._v(" "),l("el-form-item",{staticStyle:{"text-align":"center"}},[l("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small",type:"primary"},on:{click:e.handleRefreshProductSkuList}},[e._v("保存\n                ")]),e._v(" "),l("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small",type:"primary"},on:{click:e.handleSyncProductSkuPrice}},[e._v("取消\n                ")])],1)],1)],1)])},staticRenderFns:[]};var s={name:"productAdd",components:{product_detail:l("VU/8")(c,o,!1,function(e){l("ZrX+")},"data-v-6da6f266",null).exports}},u={render:function(){var e=this.$createElement;return(this._self._c||e)("product_detail",{attrs:{"is-edit":!1}})},staticRenderFns:[]};var d=l("VU/8")(s,u,!1,function(e){l("EU81")},null,null);t.default=d.exports},EU81:function(e,t){},"ZrX+":function(e,t){}});
//# sourceMappingURL=5.05d04f9c6840723163f7.js.map